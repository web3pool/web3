import{g as h,h as A,q as C,s as H,w as E,v as M,x as j,y as z,e as n,z as O,d as D,A as F,B as R,C as V,H as L,D as K,I as U,E as W,u as q,o as c,m as G,l as B,G as J,J as S,f as _,K as Z,_ as P,L as Q,c as d,b as f,M as X,F as T,j as I,N as $,O as Y,t as x}from"./index-48607fab.js";import{T as ee,a as te}from"./index-d99b7916.js";import"./index-88a783d3.js";const se=(e,i)=>{const t=h(),s=()=>{t.value=z(e).height};return A(()=>{if(C(s),i)for(let a=1;a<=3;a++)setTimeout(s,100*a)}),H(()=>C(s)),E([M,j],s),t};function ae(e,i){const t=se(e,!0);return s=>n("div",{class:i("placeholder"),style:{height:t.value?`${t.value}px`:void 0}},[s()])}const[ne,u]=O("nav-bar"),ie={title:String,fixed:Boolean,zIndex:F,border:R,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:R};var re=D({name:ne,props:ie,emits:["clickLeft","clickRight"],setup(e,{emit:i,slots:t}){const s=h(),a=ae(s,u),g=o=>{e.leftDisabled||i("clickLeft",o)},b=o=>{e.rightDisabled||i("clickRight",o)},p=()=>t.left?t.left():[e.leftArrow&&n(U,{class:u("arrow"),name:"arrow-left"},null),e.leftText&&n("span",{class:u("text")},[e.leftText])],v=()=>t.right?t.right():n("span",{class:u("text")},[e.rightText]),r=()=>{const{title:o,fixed:w,border:y,zIndex:k}=e,l=V(k),m=e.leftArrow||e.leftText||t.left,N=e.rightText||t.right;return n("div",{ref:s,style:l,class:[u({fixed:w}),{[K]:y,"van-safe-area-top":e.safeAreaInsetTop}]},[n("div",{class:u("content")},[m&&n("div",{class:[u("left",{disabled:e.leftDisabled}),e.clickable&&!e.leftDisabled?L:""],onClick:g},[p()]),n("div",{class:[u("title"),"van-ellipsis"]},[t.title?t.title():o]),N&&n("div",{class:[u("right",{disabled:e.rightDisabled}),e.clickable&&!e.rightDisabled?L:""],onClick:b},[v()])])])};return()=>e.fixed&&e.placeholder?a(r):r()}});const oe=W(re);const le=D({__name:"index",props:{icon:{},router:{}},setup(e){const i=e,t=q();function s(){i.router?t.push(i.router):t.go(-1)}return(a,g)=>{const b=oe;return c(),G(b,J({"z-index":"999"},a.$attrs,{"safe-area-inset-top":"",placeholder:"",style:{background:"transparent"},onClickLeft:s}),{left:B(()=>[S(a.$slots,"left",{},()=>[n(_(Z),{icon:a.icon?a.icon:"mdi:arrow-left",class:"text-2xl text-primary"},null,8,["icon"])],!0)]),right:B(()=>[S(a.$slots,"right",{},void 0,!0)]),_:3},16)}}});const ce=P(le,[["__scopeId","data-v-655763f3"],["__file","index.vue"]]),de={key:0,class:"ml-4 mr-4 rounded-lg"},ue={class:"border-b border-border-primary flex justify-between items-center py-3 border-gray-700"},fe={style:{color:"#879099","flex-basis":"50%"}},_e={style:{"flex-basis":"25%"}},he={key:0,style:{"flex-basis":"25%",color:"#228b22"}},ge={key:1,style:{"flex-basis":"25%",color:"red"}},be={key:1,class:"ml-4 mr-4 rounded-lg"},me={class:"border-b border-border-primary flex justify-between items-center py-3 border-gray-700"},xe={style:{color:"#879099","flex-basis":"50%"}},ve={style:{"flex-basis":"25%"}},ye={style:{"flex-basis":"25%",color:"#879099"}},pe=D({__name:"index",setup(e){const i=h(0),t=Q(),s=h(!0),a=h([]),g=h([]),b=async()=>{const r=await Y(t);a.value=r.data.withdraw_history,g.value=r.data.mining_history},p=r=>{s.value=r==0};function v(r,o){return r.length<=o*2?r:`${r.slice(0,o)}....${r.slice(-o)}`}return A(async()=>{await b()}),(r,o)=>{const w=ce,y=te,k=ee;return c(),d(T,null,[f("div",null,[n(w,{title:"Record"}),n(k,{active:_(i),"onUpdate:active":o[0]||(o[0]=l=>X(i)?i.value=l:null),onChange:p},{default:B(()=>[n(y,{title:"Withdraw"}),n(y,{title:"Mining"})]),_:1},8,["active"])]),_(s)?(c(),d("div",de,[(c(!0),d(T,null,I(_(a),(l,m)=>(c(),d("ul",{class:"bg-secondary p-3 text-sm",key:m},[f("li",ue,[f("span",fe,x(v(l.address,8)),1),f("span",_e,x(l.amount),1),l.status==1?(c(),d("span",he,"Successful")):(c(),d("span",ge,"Reject"))])]))),128))])):$("",!0),_(s)?$("",!0):(c(),d("div",be,[(c(!0),d(T,null,I(_(g),(l,m)=>(c(),d("ul",{class:"bg-secondary p-3 text-sm",key:m},[f("li",me,[f("span",xe,x(v(l.address,8)),1),f("span",ve,x(l.amount),1),f("span",ye,x(`${new Date(l.create_time*1e3).toLocaleDateString("default",{month:"2-digit",day:"2-digit"}).replace(/\//g,"/")} ${new Date(l.create_time*1e3).toLocaleTimeString("default",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}`),1)])]))),128))]))],64)}}}),Be=P(pe,[["__file","index.vue"]]);export{Be as default};
